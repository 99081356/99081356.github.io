{% extends "base.html" %}

{% block head %}
    <style>
        .diff-container {
            overflow-x: auto;
            word-wrap: break-word; /* 允许文本自动换行 */
            overflow-y: auto; /* 添加滚动条 */
        }
    </style>
    <link href="/static/markdown/markdown2.css" rel="stylesheet"/>
{% endblock %}

{% block pageHeader %}
    <h2 class="page-title">
        文本比较
    </h2>
{% endblock %}

{% block content %}
    {#    <form method=post enctype=multipart/form-data>#}
    {#        <input type=file name=file>#}
    {#        <input type=text name=figure_number placeholder="Enter figure number to search">#}
    {#        <input type=submit value=Search>#}
    {#    </form>#}
    {#    <p>{{ message }}</p>#}

    <div class="row row-cards">
        <div class="col-md-12">
            <form class="card" method="post" enctype="multipart/form-data">
                {{ form.hidden_tag() }}
                {#                {{ csrf_token }}#}
                <div class="card-header">
                    <h3 class="card-title">文本内容</h3>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label class="form-label required">原始文本</label>
                        <div>
                            {{ form.text_orgin(id='file', class_='form-control',style="height: 15em;") }}
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label required">待比较文本</label>
                        <div>
                            {{ form.text_cmp(id='key_word', class_='form-control',style="height: 15em;") }}
                        </div>
                    </div>
                </div>
                <div class="card-footer text-end">
                    {{ form.submit(class_='btn btn-primary') }}
                </div>
            </form>
        </div>
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">比对结果</h3>
                </div>
                <div class="card-body">
                    <div class="mb-3 row">
                        <div id="message" class="markdown-body2">
                            <p class="diff-container">{{ diff_result|safe }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
